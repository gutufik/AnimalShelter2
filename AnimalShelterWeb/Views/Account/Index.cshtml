@model Core.User

@{
    ViewData["Title"] = "Account";
}

 <div class='text-center'>
    <h2>Аккаунт</h2>
    <form method="post" asp-controller="Account" asp-action="SaveClient">
    <input type="hidden" asp-for="Id" value="@Model.Id"/>
    <input type="hidden" asp-for="EmployeeId" value="@Model.EmployeeId"/>
    @if (Model.Employee != null)
    {
        <input type="hidden" asp-for="Employee.Id" value="@Model.Employee.Id"/>
        <input type="hidden" asp-for="Employee.RoleId" value="@Model.Employee.RoleId"/>
    }
    <input type="hidden" asp-for="Password" value="@Model.Password"/>
        <table class='center-table'>
            <tr>
                <td class="text-left">
                    <div style="width:120px">
                        <label>Логин</label>
                    </div>
                </td>
                
                <td>
                    <input type="text" asp-for="Login" style="width:120px" value="@Model.Login" />
                </td>
            </tr>
            <tr>
                <td class="text-left">
                    <label>Имя</label>
                </td>
                
                <td>
                    @if (Model.Employee != null)
                    {
                        <input type="text" asp-for="Employee.FirstName" style="width:120px" value="@Model.Employee.FirstName" />
                    }
                </td>
            </tr>
            <tr>
                <td class="text-left">
                    <label>Фамилия</label>
                </td>
                
                <td>
                    @if (Model.Employee != null)
                    {
                        <input type="text" asp-for="Employee.LastName" style="width:120px" value="@Model.Employee.LastName" />
                    }
                </td>
            </tr>
            <tr>
                <td class="text-left">
                    <label>Роль</label>
                </td>
                
                <td>
                    @if (Model.Employee != null)
                    {
                        <input type="text" disabled asp-for="Employee.Role.Name" style="width:120px" value="@Model.Employee.Role.Name" />
                    }               
                </td>
            </tr>
        </table>
        <button type="submit" class="btn btn-primary" asp-controller="Account" asp-action="SaveUser">Сохранить</button>
        <button asp-controller="Account" class="btn btn-danger" asp-action="Logout">Выйти</button>
    </form>
</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
